# GitHub Actions å·¥ä½œæµç®¡ç†æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ç®¡ç†å’Œç¦ç”¨ GitHub Actions å·¥ä½œæµã€‚å¦‚æœæ‚¨åªæƒ³ä½¿ç”¨ç‰¹å®šçš„å·¥ä½œæµï¼ˆå¦‚æ–°çš„è‡ªåŠ¨ Docker æ„å»ºï¼‰ï¼Œè€Œç¦ç”¨å…¶ä»–å·¥ä½œæµï¼Œè¯·å‚è€ƒä»¥ä¸‹æ–¹æ³•ã€‚

## ğŸ¯ ç¦ç”¨å·¥ä½œæµçš„æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ GitHub Web UIï¼ˆæ¨è - æœ€ç®€å•ï¼‰â­

è¿™æ˜¯æœ€ç®€å•ä¸”ä¸éœ€è¦ä¿®æ”¹ä»£ç çš„æ–¹æ³•ã€‚

#### æ­¥éª¤ï¼š

1. è®¿é—®æ‚¨çš„ GitHub ä»“åº“
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. åœ¨å·¦ä¾§å·¥ä½œæµåˆ—è¡¨ä¸­ï¼Œç‚¹å‡»è¦ç¦ç”¨çš„å·¥ä½œæµ
4. ç‚¹å‡»å³ä¸Šè§’çš„ **â‹¯** (ä¸‰ä¸ªç‚¹) æŒ‰é’®
5. é€‰æ‹© **Disable workflow**

#### ä¼˜ç‚¹ï¼š
- âœ… ä¸éœ€è¦ä¿®æ”¹ä»£ç 
- âœ… å¯ä»¥éšæ—¶é‡æ–°å¯ç”¨
- âœ… å·¥ä½œæµæ–‡ä»¶ä¿æŒå®Œæ•´
- âœ… é€‚åˆä¸´æ—¶ç¦ç”¨

#### ç¼ºç‚¹ï¼š
- âŒ éœ€è¦æ‰‹åŠ¨ä¸ºæ¯ä¸ªå·¥ä½œæµæ“ä½œ
- âŒ Fork çš„ä»“åº“éœ€è¦é‡æ–°é…ç½®

#### æˆªå›¾ä½ç½®ï¼š
```
Actions â†’ [é€‰æ‹©å·¥ä½œæµ] â†’ â‹¯ â†’ Disable workflow
```

---

### æ–¹æ³• 2: é‡å‘½åå·¥ä½œæµæ–‡ä»¶ï¼ˆæ¨è - ä¸´æ—¶ç¦ç”¨ï¼‰â­

é€šè¿‡é‡å‘½åå·¥ä½œæµæ–‡ä»¶æ¥ä¸´æ—¶ç¦ç”¨ï¼Œä¸åˆ é™¤æ–‡ä»¶å†…å®¹ã€‚

#### æ­¥éª¤ï¼š

```bash
cd /home/runner/work/lobehub/lobehub/.github/workflows

# ç¦ç”¨å•ä¸ªå·¥ä½œæµï¼ˆæ·»åŠ  .disabled åç¼€ï¼‰
mv test.yml test.yml.disabled

# ç¦ç”¨å¤šä¸ªå·¥ä½œæµ
mv claude-auto-testing.yml claude-auto-testing.yml.disabled
mv e2e.yml e2e.yml.disabled
mv lighthouse.yml lighthouse.yml.disabled
```

#### é‡æ–°å¯ç”¨ï¼š

```bash
# é‡æ–°å¯ç”¨å·¥ä½œæµï¼ˆç§»é™¤ .disabled åç¼€ï¼‰
mv test.yml.disabled test.yml
```

#### ä¼˜ç‚¹ï¼š
- âœ… ç®€å•å¿«é€Ÿ
- âœ… ä¿ç•™æ‰€æœ‰é…ç½®
- âœ… å¯ä»¥è½»æ¾æ¢å¤
- âœ… é€‚åˆæµ‹è¯•ç¯å¢ƒ

#### ç¼ºç‚¹ï¼š
- âŒ éœ€è¦æäº¤ä»£ç æ›´æ”¹
- âŒ æ–‡ä»¶ä»ç„¶å­˜åœ¨äºä»“åº“ä¸­

---

### æ–¹æ³• 3: åˆ é™¤å·¥ä½œæµæ–‡ä»¶ï¼ˆæ°¸ä¹…åˆ é™¤ï¼‰

å¦‚æœæ‚¨ç¡®å®šä¸å†éœ€è¦æŸäº›å·¥ä½œæµï¼Œå¯ä»¥ç›´æ¥åˆ é™¤æ–‡ä»¶ã€‚

#### æ­¥éª¤ï¼š

```bash
cd /home/runner/work/lobehub/lobehub/.github/workflows

# åˆ é™¤å•ä¸ªå·¥ä½œæµ
rm test.yml

# åˆ é™¤å¤šä¸ªå·¥ä½œæµ
rm claude-*.yml
rm issue-*.yml
```

#### âš ï¸ è­¦å‘Šï¼š
- åˆ é™¤å‰è¯·ç¡®ä¿æ‚¨ç¡®å®ä¸éœ€è¦è¿™äº›å·¥ä½œæµ
- å»ºè®®å…ˆä½¿ç”¨æ–¹æ³• 1 æˆ– 2 æµ‹è¯•
- åˆ é™¤åéœ€è¦ä» git å†å²æ¢å¤

#### ä¼˜ç‚¹ï¼š
- âœ… å½»åº•æ¸…ç†
- âœ… å‡å°‘ä»“åº“æ–‡ä»¶æ•°é‡
- âœ… é¿å…è¯¯è§¦å‘

#### ç¼ºç‚¹ï¼š
- âŒ ä¸å¯é€†ï¼ˆé™¤éä» git å†å²æ¢å¤ï¼‰
- âŒ å¤±å»åŸå§‹é…ç½®

---

### æ–¹æ³• 4: ä¿®æ”¹å·¥ä½œæµæ¡ä»¶ï¼ˆä»£ç çº§ç¦ç”¨ï¼‰

åœ¨å·¥ä½œæµæ–‡ä»¶ä¸­æ·»åŠ æ°¸è¿œä¸º false çš„æ¡ä»¶ã€‚

#### æ­¥éª¤ï¼š

ç¼–è¾‘å·¥ä½œæµæ–‡ä»¶ï¼Œåœ¨ `jobs` çš„æœ€å¤–å±‚æ·»åŠ æ¡ä»¶ï¼š

```yaml
name: Test CI

on: [push, pull_request]

jobs:
  test:
    # æ·»åŠ è¿™è¡Œæ¥ç¦ç”¨æ•´ä¸ªå·¥ä½œæµ
    if: false
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      # ... å…¶ä»–æ­¥éª¤
```

æˆ–è€…åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼š

```yaml
name: Test CI

on: [push, pull_request]

# æ·»åŠ è¿™ä¸ªç¯å¢ƒå˜é‡
env:
  WORKFLOW_DISABLED: true

jobs:
  test:
    # ä½¿ç”¨ç¯å¢ƒå˜é‡åˆ¤æ–­
    if: env.WORKFLOW_DISABLED != 'true'
    runs-on: ubuntu-latest
    # ...
```

#### ä¼˜ç‚¹ï¼š
- âœ… ä¿ç•™å·¥ä½œæµé…ç½®
- âœ… æ¸…æ™°æ ‡è®°ä¸ºç¦ç”¨
- âœ… å¯ä»¥æ·»åŠ æ³¨é‡Šè¯´æ˜åŸå› 

#### ç¼ºç‚¹ï¼š
- âŒ å·¥ä½œæµä»ä¼šå‡ºç°åœ¨ Actions åˆ—è¡¨ä¸­
- âŒ æ¯æ¬¡è§¦å‘ä»ä¼šæ£€æŸ¥æ¡ä»¶ï¼ˆæµªè´¹èµ„æºï¼‰

---

### æ–¹æ³• 5: ä»…ä¿ç•™æ‰‹åŠ¨è§¦å‘ï¼ˆéƒ¨åˆ†ç¦ç”¨ï¼‰

ç§»é™¤è‡ªåŠ¨è§¦å‘æ¡ä»¶ï¼Œåªä¿ç•™æ‰‹åŠ¨è§¦å‘ã€‚

#### æ­¥éª¤ï¼š

ç¼–è¾‘å·¥ä½œæµæ–‡ä»¶ï¼Œä¿®æ”¹ `on` éƒ¨åˆ†ï¼š

```yaml
# åŸå§‹é…ç½®
on:
  push:
    branches: [main]
  pull_request:
  schedule:
    - cron: '0 0 * * *'

# ä¿®æ”¹ä¸ºä»…æ‰‹åŠ¨è§¦å‘
on:
  workflow_dispatch:
```

#### ä¼˜ç‚¹ï¼š
- âœ… ä¸ä¼šè‡ªåŠ¨è¿è¡Œ
- âœ… éœ€è¦æ—¶å¯ä»¥æ‰‹åŠ¨è§¦å‘
- âœ… ä¿ç•™æ‰€æœ‰åŠŸèƒ½

#### ç¼ºç‚¹ï¼š
- âŒ å¤±å»è‡ªåŠ¨åŒ–èƒ½åŠ›
- âŒ éœ€è¦æ‰‹åŠ¨å¹²é¢„

---

## ğŸ¯ æ¨èç¦ç”¨ç­–ç•¥

æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œä»¥ä¸‹æ˜¯æ¨èçš„ç¦ç”¨ç­–ç•¥ï¼š

### ç­–ç•¥ 1: ä¿ç•™æ ¸å¿ƒåŠŸèƒ½ï¼ˆæ¨èï¼‰â­

**ä¿ç•™ä»¥ä¸‹å·¥ä½œæµï¼š**
- âœ… `auto-docker-build.yml` - æ‚¨çš„æ–°è‡ªåŠ¨ Docker æ„å»º
- âœ… `test.yml` - åŸºç¡€æµ‹è¯•ï¼ˆå¯é€‰ï¼Œå»ºè®®ä¿ç•™ï¼‰
- âœ… `release.yml` - ç‰ˆæœ¬å‘å¸ƒï¼ˆå¯é€‰ï¼‰
- âœ… `sync.yml` - Fork åŒæ­¥ï¼ˆå¦‚æœæ˜¯ fork ä»“åº“ï¼‰

**ç¦ç”¨ä»¥ä¸‹å·¥ä½œæµï¼š**
- âŒ `claude-*.yml` - Claude AI ç›¸å…³ï¼ˆ6ä¸ªï¼‰
- âŒ `issue-*.yml` - Issue ç®¡ç†ï¼ˆ4ä¸ªï¼‰
- âŒ `desktop-*.yml` - æ¡Œé¢åº”ç”¨æ„å»ºï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
- âŒ `e2e.yml` - E2E æµ‹è¯•ï¼ˆèµ„æºå¯†é›†ï¼‰
- âŒ `lighthouse.yml` - æ€§èƒ½æµ‹è¯•ï¼ˆèµ„æºå¯†é›†ï¼‰

### ç­–ç•¥ 2: æœ€å°åŒ–é…ç½®ï¼ˆä»… Docker æ„å»ºï¼‰

**ä»…ä¿ç•™ï¼š**
- âœ… `auto-docker-build.yml`

**ç¦ç”¨æ‰€æœ‰å…¶ä»–å·¥ä½œæµ**

### ç­–ç•¥ 3: å¼€å‘ç¯å¢ƒé…ç½®

**ä¿ç•™æµ‹è¯•å’Œæ„å»ºï¼š**
- âœ… `auto-docker-build.yml`
- âœ… `test.yml`
- âœ… `pr-build-docker.yml`

**ç¦ç”¨è‡ªåŠ¨åŒ–å’Œå®šæ—¶ä»»åŠ¡ï¼š**
- âŒ æ‰€æœ‰ `claude-*.yml`
- âŒ æ‰€æœ‰å®šæ—¶ä»»åŠ¡å·¥ä½œæµ

---

## ğŸ“ å¿«é€Ÿç¦ç”¨è„šæœ¬

### ç¦ç”¨æ‰€æœ‰ Claude AI å·¥ä½œæµ

```bash
#!/bin/bash
cd .github/workflows

# ç¦ç”¨æ‰€æœ‰ Claude ç›¸å…³å·¥ä½œæµ
for file in claude-*.yml; do
    if [ -f "$file" ]; then
        mv "$file" "$file.disabled"
        echo "âœ“ ç¦ç”¨: $file"
    fi
done
```

### ç¦ç”¨æ‰€æœ‰ Issue ç®¡ç†å·¥ä½œæµ

```bash
#!/bin/bash
cd .github/workflows

# ç¦ç”¨æ‰€æœ‰ Issue ç›¸å…³å·¥ä½œæµ
for file in issue-*.yml; do
    if [ -f "$file" ]; then
        mv "$file" "$file.disabled"
        echo "âœ“ ç¦ç”¨: $file"
    fi
done
```

### ç¦ç”¨æ‰€æœ‰æ¡Œé¢åº”ç”¨å·¥ä½œæµ

```bash
#!/bin/bash
cd .github/workflows

# ç¦ç”¨æ‰€æœ‰æ¡Œé¢ç›¸å…³å·¥ä½œæµ
for file in desktop-*.yml *-desktop*.yml; do
    if [ -f "$file" ]; then
        mv "$file" "$file.disabled"
        echo "âœ“ ç¦ç”¨: $file"
    fi
done
```

### ä¸€é”®ç¦ç”¨é™¤ Docker æ„å»ºå¤–çš„æ‰€æœ‰å·¥ä½œæµ

```bash
#!/bin/bash
cd .github/workflows

# ä¿ç•™çš„å·¥ä½œæµåˆ—è¡¨
KEEP_WORKFLOWS=(
    "auto-docker-build.yml"
)

# ç¦ç”¨æ‰€æœ‰å…¶ä»–å·¥ä½œæµ
for file in *.yml; do
    # æ£€æŸ¥æ˜¯å¦åœ¨ä¿ç•™åˆ—è¡¨ä¸­
    keep=false
    for keep_file in "${KEEP_WORKFLOWS[@]}"; do
        if [ "$file" = "$keep_file" ]; then
            keep=true
            break
        fi
    done
    
    # å¦‚æœä¸åœ¨ä¿ç•™åˆ—è¡¨ï¼Œåˆ™ç¦ç”¨
    if [ "$keep" = false ] && [ -f "$file" ]; then
        mv "$file" "$file.disabled"
        echo "âœ“ ç¦ç”¨: $file"
    else
        echo "â—‹ ä¿ç•™: $file"
    fi
done

echo ""
echo "å®Œæˆï¼å·²ç¦ç”¨é™¤ä»¥ä¸‹å·¥ä½œæµå¤–çš„æ‰€æœ‰å·¥ä½œæµï¼š"
for keep_file in "${KEEP_WORKFLOWS[@]}"; do
    echo "  âœ“ $keep_file"
done
```

---

## ğŸ”„ æ¢å¤å·²ç¦ç”¨çš„å·¥ä½œæµ

### æ¢å¤å•ä¸ªå·¥ä½œæµ

```bash
cd .github/workflows
mv test.yml.disabled test.yml
```

### æ¢å¤æ‰€æœ‰å·²ç¦ç”¨çš„å·¥ä½œæµ

```bash
#!/bin/bash
cd .github/workflows

for file in *.disabled; do
    if [ -f "$file" ]; then
        original_name="${file%.disabled}"
        mv "$file" "$original_name"
        echo "âœ“ æ¢å¤: $original_name"
    fi
done
```

---

## ğŸ“Š å·¥ä½œæµåˆ†ç±»å‚è€ƒ

æ–¹ä¾¿æ‚¨å†³å®šä¿ç•™æˆ–ç¦ç”¨å“ªäº›å·¥ä½œæµï¼š

### ğŸ”´ é«˜èµ„æºæ¶ˆè€—ï¼ˆå»ºè®®ç¦ç”¨ï¼‰
- `test.yml` - å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼ˆåˆ†ç‰‡æµ‹è¯•ï¼Œå¤šä¸ª jobï¼‰
- `e2e.yml` - E2E æµ‹è¯•ï¼ˆPlaywrightï¼Œèµ„æºå¯†é›†ï¼‰
- `lighthouse.yml` - æ€§èƒ½æµ‹è¯•
- `desktop-build-electron.yml` - æ¡Œé¢åº”ç”¨æ„å»º
- `pr-build-desktop.yml` - PR æ¡Œé¢æ„å»º

### ğŸŸ¡ ä¸­ç­‰èµ„æºæ¶ˆè€—ï¼ˆæŒ‰éœ€ç¦ç”¨ï¼‰
- `claude-auto-testing.yml` - AI ç”Ÿæˆæµ‹è¯•
- `claude-auto-e2e-testing.yml` - AI ç”Ÿæˆ E2E æµ‹è¯•
- `release.yml` - å‘å¸ƒæµç¨‹
- `release-docker.yml` - Docker å‘å¸ƒï¼ˆå¦‚æœä½¿ç”¨ auto-docker-build.ymlï¼‰

### ğŸŸ¢ ä½èµ„æºæ¶ˆè€—ï¼ˆå¯ä¿ç•™ï¼‰
- `auto-docker-build.yml` - æ‚¨çš„æ–° Docker æ„å»º
- `sync.yml` - Fork åŒæ­¥
- `issue-auto-comments.yml` - Issue è‡ªåŠ¨è¯„è®º
- `lock-closed-issues.yml` - é”å®š issue

### ğŸ”µ å®šæ—¶ä»»åŠ¡ï¼ˆå¯ç¦ç”¨èŠ‚çœé…é¢ï¼‰
- `auto-i18n.yml` - æ¯å¤© 00:00
- `claude-translate-comments.yml` - æ¯å¤© 02:00
- `claude-auto-testing.yml` - æ¯å¤© 05:30
- `claude-auto-e2e-testing.yml` - æ¯å¤© 21:00
- `sync.yml` - æ¯ 6 å°æ—¶

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æ¸è¿›å¼ç¦ç”¨**
   - å…ˆä½¿ç”¨ GitHub UI ç¦ç”¨ï¼Œæµ‹è¯•å‡ å¤©
   - ç¡®è®¤æ²¡é—®é¢˜åå†åˆ é™¤æ–‡ä»¶

2. **å¤‡ä»½é…ç½®**
   ```bash
   # åˆ›å»ºå¤‡ä»½åˆ†æ”¯
   git checkout -b backup-workflows
   git push origin backup-workflows
   ```

3. **æ–‡æ¡£è®°å½•**
   - åœ¨ README æˆ–æ–‡æ¡£ä¸­è®°å½•ç¦ç”¨çš„å·¥ä½œæµ
   - è¯´æ˜ç¦ç”¨åŸå› 

4. **å®šæœŸå®¡æŸ¥**
   - å®šæœŸæ£€æŸ¥æ˜¯å¦éœ€è¦é‡æ–°å¯ç”¨æŸäº›å·¥ä½œæµ
   - å…³æ³¨é¡¹ç›®éœ€æ±‚å˜åŒ–

5. **ç›‘æ§å½±å“**
   - ç¦ç”¨åè§‚å¯Ÿæ˜¯å¦å½±å“å¼€å‘æµç¨‹
   - å¦‚æœ‰é—®é¢˜åŠæ—¶æ¢å¤

---

## â“ å¸¸è§é—®é¢˜

### Q1: ç¦ç”¨å·¥ä½œæµä¼šå½±å“å·²æœ‰çš„è¿è¡Œå—ï¼Ÿ

**A**: ä¸ä¼šã€‚å·²ç»åœ¨è¿è¡Œçš„å·¥ä½œæµä¼šç»§ç»­æ‰§è¡Œå®Œæˆã€‚ç¦ç”¨åªå½±å“æ–°çš„è§¦å‘ã€‚

### Q2: å¦‚ä½•æŸ¥çœ‹å“ªäº›å·¥ä½œæµè¢«ç¦ç”¨äº†ï¼Ÿ

**A**: 
- **æ–¹æ³• 1**: åœ¨ GitHub Actions é¡µé¢ï¼Œç¦ç”¨çš„å·¥ä½œæµä¼šæ˜¾ç¤º "Disabled" æ ‡ç­¾
- **æ–¹æ³• 2**: æ£€æŸ¥ `.github/workflows/` ç›®å½•ä¸­çš„ `.disabled` æ–‡ä»¶
- **æ–¹æ³• 3**: ä½¿ç”¨ `git status` æŸ¥çœ‹è¢«é‡å‘½åçš„æ–‡ä»¶

### Q3: ç¦ç”¨å·¥ä½œæµä¼šå½±å“ GitHub Actions é…é¢å—ï¼Ÿ

**A**: ä¼šï¼ç¦ç”¨å·¥ä½œæµå¯ä»¥ï¼š
- å‡å°‘è¿è¡Œæ¬¡æ•°
- èŠ‚çœ Actions minutes
- é™ä½å¹¶å‘ job æ•°é‡

ç‰¹åˆ«æ˜¯å®šæ—¶ä»»åŠ¡å’Œé«˜é¢‘è§¦å‘çš„å·¥ä½œæµã€‚

### Q4: Fork çš„ä»“åº“å¦‚ä½•ç®¡ç†å·¥ä½œæµï¼Ÿ

**A**: Fork ä»“åº“çš„å·¥ä½œæµé»˜è®¤æ˜¯ç¦ç”¨çš„ã€‚æ‚¨éœ€è¦ï¼š
1. åœ¨ Actions é¡µé¢æ‰‹åŠ¨å¯ç”¨éœ€è¦çš„å·¥ä½œæµ
2. æˆ–ä¿®æ”¹å·¥ä½œæµé…ç½®åæäº¤

### Q5: èƒ½å¦é€šè¿‡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†å·¥ä½œæµå¯ç”¨/ç¦ç”¨ï¼Ÿ

**A**: GitHub Actions æœ¬èº«ä¸æ”¯æŒï¼Œä½†æ‚¨å¯ä»¥ï¼š
- ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼ˆå¦‚æ£€æŸ¥ç‰¹å®šå˜é‡ï¼‰
- ä½¿ç”¨ repository variables æ§åˆ¶
- åˆ›å»ºè‡ªå®šä¹‰è„šæœ¬ç®¡ç†

---

## ğŸ”— ç›¸å…³èµ„æº

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [å·¥ä½œæµè¯­æ³•å‚è€ƒ](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions)
- [ç®¡ç†å·¥ä½œæµè¿è¡Œ](https://docs.github.com/en/actions/managing-workflow-runs)

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæ‚¨åœ¨ç¦ç”¨å·¥ä½œæµæ—¶é‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. åœ¨ä»“åº“ä¸­æäº¤ Issue
3. æŸ¥çœ‹ GitHub Actions å®˜æ–¹æ–‡æ¡£

---

**æç¤º**: å»ºè®®åœ¨ç¦ç”¨å·¥ä½œæµå‰ï¼Œå…ˆåœ¨æµ‹è¯•åˆ†æ”¯ä¸ŠéªŒè¯ï¼Œç¡®ä¿ä¸ä¼šå½±å“æ‚¨çš„å¼€å‘æµç¨‹ã€‚
